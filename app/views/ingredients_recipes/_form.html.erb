
<div class="form-group" id="ingredients-recipe-form">
  <%= simple_form_for @ingredients_recipe, :html => {:id => "ingredients-recipe-form-validate"}, remote: true  do |ingredients_recipe_form| %>
    <div>
  <% if @ingredients_recipe.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@ingredients_recipe.errors.count, "error") %> prohibited this ingredients_recipe from being saved:</h2>

      <ul>
      <% @ingredients_recipe.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
    </div>

    <div class="recipe-form-section row" id="recipe-form-section-8">
      <div class="recipe-form-steps-container">
        <div class="col-xs-12 recipe-form-steps" id="recipe-steps-form-section-8">
          <div class="form-group col-xs-12 col-sm-12 col-md-12 col-lg-12" id="recipe-form-selector-8">
          <% if @ingredients_recipe.ingredient.name %>
            <div class="col-xs-12">
              <span class="attribute-title green-font"><%=@ingredients_recipe.ingredient.name.upcase%></span>
              <p class="ingredient-allergen-fields">To change ingredient name, please remove ingredient and enter a new one</p>
            </div> 
          <% end %>
            <div class="row">
              <div class="form-group col-xs-6">
                <span class="attribute-title white-font">AMOUNT</span> 
                <%= ingredients_recipe_form.input :amount, placeholder: "###", label: false %>
              </div>
              <div class="form-group col-xs-6">
                <span class="attribute-title white-font">UNIT</span> 
                <%= ingredients_recipe_form.input :amount_unit, label: false, :collection => @units, :include_blank => false %>
              </div>
            </div>
            <div class="row">
              <div class="form-group col-xs-4">
                <span class="attribute-title white-font">Optional:</span> 
                <%= ingredients_recipe_form.input :prep, placeholder: 'diced, chopped, peeled, etc', :collection => @prep_options, :include_blank => true %>
              </div>
              <div class="form-group col-xs-8">
                <% if !@ingredients_recipe.ingredient.name %>
                  <span class="attribute-title white-font">INGREDIENT</span> 
                  <%= ingredients_recipe_form.fields_for :ingredient, @ingredient do |ingredient_form| %>
                      <%= ingredient_form.input :name, :url => autocomplete_ingredient_name_recipes_path, :as => :autocomplete, input_html: {value: ingredient_form.object.name ||= nil}, placeholder: "Ingredient Name", label: false %>
                  <% end %> 
                <% end %>
                <% if @recipe %>
                  <%= ingredients_recipe_form.hidden_field :recipe_id, value: @recipe.id %>
                <% else %>
                  <%= ingredients_recipe_form.hidden_field :recipe_id, value: params["recipe_id"].to_i %>
                <% end %>
              </div>
            </div>
          </div>      
         </div>
         <div class="recipe-form-section-submit actions text-center">
             <%= ingredients_recipe_form.button :submit, "Save Ingredient", class: "btn btn-default btn-lg" %>
         </div>
      </div>
    </div> 
  <% end %>
</div>


