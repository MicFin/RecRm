
<%= simple_form_for(@recipe, html: {class: 'form-horizontal' }) do |recipe_form| %>
  <% if @recipe.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@recipe.errors.count, "error") %> prohibited this recipe from being saved:</h2>

      <ul>
      <% @recipe.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="recipe-form-section row">
    <div class="recipe-form-steps-container">
      <div class="col-xs-12 recipe-form-steps">
        <div class="recipe-group-headline form-group">
          <h2>Look at the list of ingredients and allergens to the right while selecting which patient groups this recipe is safe and perfect for!</h2>
        </div>
        <div class="row">
          <div class="col-xs-6">
            <div class="form-group">
              <span class="attribute-title orange-font">Allergy Patient Groups</span> 
              <%= recipe_form.association :patient_groups, collection: @allergies, label: false,  as: :check_boxes %>
            </div>
            <div class="form-group">
              <span class="attribute-title orange-font">Intolerance Patient Groups</span> 
              <%= recipe_form.association :patient_groups, collection: @intolerances, label: false,  as: :check_boxes %>
            </div>
            <div class="form-group">
              <span class="attribute-title orange-font">Disease Patient Groups</span> 
              <%= recipe_form.association :patient_groups, collection: @diseases, label: false,  as: :check_boxes %>
            </div>
          </div>
          <div class="col-xs-6 bg-danger" id="ingredient-danger">
            <h3 class="text-center"><strong>WARNING</strong></h3><ul>
              <% @recipe.ingredients.each do |ingredient| %>
              <li><strong class="white-font"><%= ingredient.name%></strong></li>
              <ul>
              <% ingredient.allergens.each do |allergen| %>
                <li><strong><%= allergen.name %></strong></li>
              <% end %>
              </ul>
            <% end %>
            </ul>
          </div>     
        </div>  
        <div class="row">
          <div class="col-xs-6 bg-success" id="ingredient-success">
            <h3 class="text-center"><strong>REMEMBER</strong></h3>
            <ul>
            <li><strong class="white-font">Cook Time:</strong>
            <span class="green-font"> <%= @cook_time.name %></span></li>
            <li><strong class="white-font">Prep Time:</strong>
            <span class="green-font"><%= @prep_time.name %></span></li>
            <li><strong class="white-font">Difficulty:</strong>
            <span class="green-font"><%= @difficulty.name %></span></li>
            <li><strong class="white-font">Courses:</strong>
              <ul>
                <% @courses.each do |course| %>
                  <li><%= course.name %></li>
                <% end %>
              </ul>
            </li>
            <li><strong class="white-font">Age Groups:</strong>
              <ul>
                <% @age_groups.each do |age_group| %>
                  <li><span class="green-font"><%= age_group.name %></span></li>
                <% end %>
              </ul>
            </li>
            <li><strong class="white-font">Scenarios:</strong>
              <ul>
                <% @scenarios.each do |scenario| %>
                  <li><span class="green-font"><%= scenario.name %></span></li>
                <% end %>
              </ul>
            </li>
            <li><strong class="white-font">Holidays:</strong>
              <ul>
                <% @holidays.each do |holiday| %>
                  <li><span class="green-font"><%= holiday.name %></span></li>
                <% end %>
              </ul>
            </li>
            <li><strong class="white-font">Cultural:</strong>
              <ul>
                <% @cultures.each do |culture| %>
                  <li><span class="green-font"><%= culture.name %></span></li>
                <% end %>
              </ul>
          </li>
            </ul>
          </div>
          <div class="col-xs-6 form-group">
            <p><span class="attribute-title orange-font">Recipe Description</span> </p>
            <p><span class="larger-paragraph">What makes this recipe the perfect match for the patient groups and other characteristics?</span> </p>
            <%= recipe_form.input :description, :input_html => {:rows => 10}, :required => true, label: false %>
          </div>
        </div>
        <div class="row text-center">
          <div class="actions recipe-form-section-submit">
            <%= recipe_form.button :submit, "Finish Recipe" %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>

