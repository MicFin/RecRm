
<div class="form-group" id="ingredients-recipe-form">
  <%= simple_form_for @ingredients_recipe, :html => {:id => "ingredients-recipe-form-validate"}, remote: true  do |ingredients_recipe_form| %>
    <div>
  <% if @ingredients_recipe.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@ingredients_recipe.errors.count, "error") %> prohibited this ingredients_recipe from being saved:</h2>

      <ul>
      <% @ingredients_recipe.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
    </div>
    <div class="form-group">
      <%= ingredients_recipe_form.input :amount %>
    </div>
    <div class="form-group">
      <%= ingredients_recipe_form.input :amount_unit, :collection => @units, :label => "Unit" ,:include_blank => false %>
    </div>
    <div class="form-group">
      <%= ingredients_recipe_form.fields_for :ingredient, @ingredient do |ingredient_form| %>
          <%= ingredient_form.input :name, :url => autocomplete_ingredient_name_recipes_path, :as => :autocomplete, input_html: {value: ingredient_form.object.name ||= nil} %>
      <% end %>
      <% if @recipe %>
        <%= ingredients_recipe_form.hidden_field :recipe_id, value: @recipe.id %>
      <% else %>
        <%= ingredients_recipe_form.hidden_field :recipe_id, value: params["recipe_id"].to_i %>
      <% end %>
    </div>
    <div class="actions">
      <%= ingredients_recipe_form.button :submit %>
    </div>
  <% end %>
</div>


