
// update steps list
$("#steps-container").replaceWith("<%= j render(:partial => 'steps_list') %>");
// FormValidations.sortableIngredientList();
// method would not work so had to manually input sortable 
$("#sortable").sortable({
        placeholder: "ui-state-highlight",
        connectWith: ".column",
        start: function(e, ui){
            ui.placeholder.height(ui.item.height())
        },
        axis: 'y',
        update: function() {
          return $.post($(this).data('update-url'), $(this).sortable("serialize"))
        }
      });
$( "#sortable" ).disableSelection();


// show next button
$(".hidden-form").show();
// get new steps form//
$.ajax({
   type: "GET",
   datatype: "script",
   url: "/recipe_steps/new",
   data: {recipe_id:"<%=@recipe_id%>"},
   success: function(response){
    // could alert that step was created
   } 
});
// update breadcrumb steps now enabled
$("#breadcrumb-steps").removeClass("disabled");
$("#breadcrumb-steps").tooltip("disable");
// set next button from hidden form
// if next button is clicked then go to tag allergens
$(".next-button").on("click", function(){
  // go to add allergens 
  $.ajax({
     type: "GET",
     datatype: "script",
     url: "/ingredients/edit_allergens/<%=@recipe_id%>",
     data: {recipe_id:"<%=@recipe_id%>"},
     success: function(response){
      // after loaded then replace breadcrumbs
      $("#recipe-breadcrumb").replaceWith("<%= j render(:partial => 'recipes/new_recipe_breadcrumbs') %>");
      RecipeBreadcrumb.setUp();
    }
  });
});

